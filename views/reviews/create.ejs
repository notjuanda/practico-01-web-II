<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css">
</head>
<body>

    <%- include('../components/header') %>

    <main class="container my-5">
        <h1 class="text-center">Crear Review</h1>
        <form action="/reviews/create" method="POST" class="mt-4">
            
            <!-- Puntuación con estrellas usando Bootstrap Icons -->
            <div class="mb-3 text-center">
                <label for="puntuacion" class="form-label">Puntuación</label>
                <div id="star-rating" class="d-flex justify-content-center">
                    <!-- Estrellas con Bootstrap Icons -->
                    <input type="radio" id="estrella1" name="puntuacion" value="1" hidden>
                    <label for="estrella1" class="bi bi-star mx-1" style="font-size: 2rem; cursor: pointer;"></label>

                    <input type="radio" id="estrella2" name="puntuacion" value="2" hidden>
                    <label for="estrella2" class="bi bi-star mx-1" style="font-size: 2rem; cursor: pointer;"></label>

                    <input type="radio" id="estrella3" name="puntuacion" value="3" hidden>
                    <label for="estrella3" class="bi bi-star mx-1" style="font-size: 2rem; cursor: pointer;"></label>

                    <input type="radio" id="estrella4" name="puntuacion" value="4" hidden>
                    <label for="estrella4" class="bi bi-star mx-1" style="font-size: 2rem; cursor: pointer;"></label>

                    <input type="radio" id="estrella5" name="puntuacion" value="5" hidden>
                    <label for="estrella5" class="bi bi-star mx-1" style="font-size: 2rem; cursor: pointer;"></label>
                </div>
            </div>

            <div class="mb-3">
                <label for="comentario" class="form-label">Comentario</label>
                <textarea id="comentario" name="comentario" class="form-control" required></textarea>
            </div>

            <!-- Campos ocultos para IDs -->
            <input type="hidden" id="hamburguesaId" name="hamburguesaId" value="<%= hamburguesaId %>">
            <input type="hidden" id="usuarioId" name="usuarioId" value="<%= usuarioId %>">

            <button type="submit" class="btn btn-primary w-100">Crear Review</button>
        </form>
    </main>

    <%- include('../components/footer') %>

    <script src="/js/bootstrap.bundle.min.js"></script>
    <script>
        const stars = document.querySelectorAll('#star-rating label');
        const radios = document.querySelectorAll('#star-rating input');

        stars.forEach((star, index) => {
            star.addEventListener('click', () => {
                // Rellenar las estrellas hasta la seleccionada
                stars.forEach((s, i) => {
                    if (i <= index) {
                        s.classList.replace('bi-star', 'bi-star-fill');  // Llenar la estrella
                    } else {
                        s.classList.replace('bi-star-fill', 'bi-star');  // Vaciar la estrella
                    }
                });

                // Marcar el radio button correspondiente
                radios[index].checked = true;
            });
        });
    </script>
</body>
</html>
